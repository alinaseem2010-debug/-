<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; padding: 20px; background: #f0f0f0; }
  input { width: 80px; padding: 5px; margin: 5px; font-size: 16px; }
  button { padding: 10px 20px; font-size: 16px; margin-top: 10px; cursor: pointer; }
  .result { margin-top: 20px; font-size: 22px; font-weight: bold; }
</style>
</head>
<body>

<h1>Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</h1>

<p>Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ØªØ§Ù„ÙŠØ©:</p>
<input type="number" id="awal" placeholder="Ø£ÙˆÙ„">
<input type="number" id="q1" placeholder="Ø±Ø¨Ø¹1">
<input type="number" id="mid" placeholder="Ù†ØµÙ">
<input type="number" id="q3" placeholder="Ø±Ø¨Ø¹3">
<input type="number" id="akhir" placeholder="Ø¢Ø®Ø±">
<br>
<button onclick="calculateTrend()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡</button>

<div class="result" id="result"></div>

<script>
function calculateTrend() {
    // Ø¬Ù„Ø¨ Ø§Ù„Ù‚ÙŠÙ… Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    let awal = parseFloat(document.getElementById('awal').value);
    let q1 = parseFloat(document.getElementById('q1').value);
    let mid = parseFloat(document.getElementById('mid').value);
    let q3 = parseFloat(document.getElementById('q3').value);
    let akhir = parseFloat(document.getElementById('akhir').value);

    if([awal, q1, mid, q3, akhir].some(isNaN)) {
        alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙŠÙ…!");
        return;
    }

<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</title>
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.1.1/dist/tesseract.min.js"></script>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #74ebd5, #ACB6E5);
    color: #333;
    text-align: center;
    padding: 30px;
  }

  h1 {
    color: #fff;
    text-shadow: 2px 2px 5px #000;
  }

  input[type="number"], input[type="file"] {
    width: 100px;
    padding: 10px;
    margin: 8px;
    border-radius: 8px;
    border: 2px solid #fff;
    font-size: 16px;
    outline: none;
  }

  input[type="number"]:focus {
    border-color: #ff9800;
  }

  button {
    padding: 12px 25px;
    font-size: 16px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    background-color: #ff9800;
    color: #fff;
    margin-top: 10px;
    transition: background 0.3s;
  }

  button:hover {
    background-color: #e68900;
  }

  .result {
    margin-top: 30px;
    font-size: 24px;
    font-weight: bold;
    color: #fff;
    text-shadow: 1px 1px 3px #000;
  }

  hr {
    margin: 30px 0;
    border: 1px solid #fff;
  }
</style>
</head>
<body>

<h1>ğŸ“Š Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</h1>

<p>Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ… ÙŠØ¯ÙˆÙŠÙ‹Ø§ Ø£Ùˆ Ø§Ø±ÙØ¹ ØµÙˆØ±Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…:</p>

<!-- Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙŠØ¯ÙˆÙŠÙ‹Ø§ -->
<div>
  <input type="number" id="awal" placeholder="Ø£ÙˆÙ„">
  <input type="number" id="q1" placeholder="Ø±Ø¨Ø¹1">
  <input type="number" id="mid" placeholder="Ù†ØµÙ">
  <input type="number" id="q3" placeholder="Ø±Ø¨Ø¹3">
  <input type="number" id="akhir" placeholder="Ø¢Ø®Ø±">
  <br>
  <button onclick="calculateTrend()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡</button>
</div>

<hr>

<!-- Ø±ÙØ¹ ØµÙˆØ±Ø© -->
<div>
  <input type="file" id="imageInput" accept="image/*">
  <button onclick="readImage()">ğŸ“· Ù‚Ø±Ø§Ø¡Ø© Ù…Ù† Ø§Ù„ØµÙˆØ±Ø©</button>
</div>

<div class="result" id="result"></div>

<script>
function calculateTrend() {
    let awal = parseFloat(document.getElementById('awal').value);
    let q1 = parseFloat(document.getElementById('q1').value);
    let mid = parseFloat(document.getElementById('mid').value);
    let q3 = parseFloat(document.getElementById('q3').value);
    let akhir = parseFloat(document.getElementById('akhir').value);

    if ([awal, q1, mid, q3, akhir].some(isNaN)) {
        alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙŠÙ… Ø£Ùˆ Ø±ÙØ¹ ØµÙˆØ±Ø©!");
        return;
    }

    // Ø·Ø±Ù‚ ØªØ­Ù‚Ù‚ Ù…Ø¨Ø³Ø·Ø©
    let checks = [];
    checks.push(akhir > awal ? 'ØµØ¹ÙˆØ¯' : (akhir < awal ? 'Ù†Ø²ÙˆÙ„' : 'Ù…Ø­Ø§ÙŠØ¯'));
    let maxVal = Math.max(awal, q1, mid, q3, akhir);
    checks.push((akhir < maxVal*0.7) ? 'Ù…ØªØ·Ø±Ù' : 'Ù…Ø­Ø§ÙŠØ¯');
    let minVal = Math.min(awal, q1, mid, q3, akhir);
    checks.push((akhir > minVal*1.3) ? 'Ù…ØªØ·Ø±Ù' : 'Ù…Ø­Ø§ÙŠØ¯');
    let avg = (awal + q1 + mid + q3 + akhir)/5;
    checks.push(akhir > avg ? 'ØµØ¹ÙˆØ¯' : 'Ù†Ø²ÙˆÙ„');

    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
    let counts = { 'ØµØ¹ÙˆØ¯':0, 'Ù†Ø²ÙˆÙ„':0, 'Ù…Ø­Ø§ÙŠØ¯':0, 'Ù…ØªØ·Ø±Ù':0 };
    checks.forEach(c => counts[c]++);
    let finalTrend = Object.keys(counts).reduce((a,b)=> counts[a] >= counts[b]?a:b);
    let emoji = {'ØµØ¹ÙˆØ¯':'ğŸ“ˆ','Ù†Ø²ÙˆÙ„':'ğŸ“‰','Ù…Ø­Ø§ÙŠØ¯':'âšª','Ù…ØªØ·Ø±Ù':'âš¡'};
    document.getElementById('result').innerHTML = `ğŸ“Š Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: ${finalTrend} ${emoji[finalTrend]}`;
}

// Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚ÙŠÙ… Ù…Ù† Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… OCR
function readImage() {
    const input = document.getElementById('imageInput');
    if (input.files.length === 0) {
        alert("Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ø£ÙˆÙ„Ù‹Ø§!");
        return;
    }

    const file = input.files[0];

    Tesseract.recognize(file, 'ara', { logger: m => console.log(m) })
    .then(({ data: { text } }) => {
        const numbers = text.match(/\d+/g);
        if (!numbers || numbers.length < 5) {
            alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ 5 Ø£Ø±Ù‚Ø§Ù… ÙÙŠ Ø§Ù„ØµÙˆØ±Ø©. ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¶ÙˆØ­ Ø§Ù„Ø£Ø±Ù‚Ø§Ù….");
            return;
        }
        document.getElementById('awal').value = numbers[0];
        document.getElementById('q1').value = numbers[1];
        document.getElementById('mid').value = numbers[2];
        document.getElementById('q3').value = numbers[3];
        document.getElementById('akhir').value = numbers[4];

        calculateTrend();
    })
    .catch(err => {
        console.error(err);
        alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØµÙˆØ±Ø©.");
    });
}
</script>

</body>
</html>